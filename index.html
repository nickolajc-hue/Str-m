<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Strømpris DK1</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<h1>⚡ Strømpris i Jylland (DK1)</h1>
<div id="price">Henter pris...</div>
<div id="time"></div>

<script>
async function fetchPrice() {
    const url = "https://api.energidataservice.dk/dataset/Elspotprices?filter={\"PriceArea\":\"DK1\"}&sort=HourUTC%20DESC&limit=1";

    const res = await fetch(url);
    const data = await res.json();

    const eur = data.records[0].SpotPriceEUR;
    const dkk = (eur * 7.45) / 1000;

    document.getElementById("price").innerHTML = dkk.toFixed(2) + " kr/kWh";

    const now = new Date().toLocaleTimeString("da-DK", { hour: "2-digit", minute: "2-digit" });
    document.getElementById("time").innerHTML = "Opdateret: " + now;
}

fetchPrice();
setInterval(fetchPrice, 60000);
</script>
</body>
</html>
